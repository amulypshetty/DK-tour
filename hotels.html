<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotels & Stays – Discover Dakshina Kannada</title>
    <link rel="stylesheet" href="hotels.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="navbar">
            <div class="logo">Discover DK</div>
            <ul class="nav-links">
                <li><a href="home.html">Home</a></li>
                <li><a href="destinations.html">Destinations</a></li>
                <li><a href="hotels.html" class="active">Hotels & Stays</a></li>
                <li><a href="events.html">Events & Festivals</a></li>
                <li><a href="booking.html">Booking</a></li>
            </ul>
        </nav>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <h1>Hotels & Stays</h1>
        <p>Find the best hotels in Dakshina Kannada for every budget and comfort level.</p>
    </section>

    <!-- Hotel List -->
    <section class="hotels" id="hotels-list">
        <!-- Hotel cards will be injected here -->
    </section>

   <script>
const requestOptions = {
    method: "GET",
    redirect: "follow"
};

fetch("http://localhost:3000/hotels", requestOptions)
    .then(response => {
        if (!response.ok) {
            throw new Error("Failed to load hotels");
        }
        return response.json(); // ✅ Parse JSON, not text
    })
    .then(data => displayHotels(data))
    .catch(error => console.error("Error fetching hotels:", error));

const listContainer = document.getElementById("hotels-list");

function displayHotels(hotels) {
    listContainer.innerHTML = "";
    hotels.forEach(hotel => {
        const card = document.createElement("div");
        card.classList.add("hotel-card");
        card.innerHTML = `
            <img src="${hotel.image_url}" alt="${hotel.name}">
            <div class="hotel-info">
                <h3>${hotel.name}</h3>
                <p><strong>Location:</strong> ${hotel.location}</p>
                <p><strong>Price:</strong> ₹${hotel.price}/night</p>
                <p><strong>Rating:</strong> ⭐ ${hotel.rating}</p>
                <button class="book-btn" onclick="bookHotel('${hotel.name}')">Book Now</button>
            </div>
        `;
        listContainer.appendChild(card);
    });
}

function bookHotel(hotelName) {
    alert(`Booking initiated for ${hotelName}!`);
    window.location.href = `booking.html?hotel=${encodeURIComponent(hotelName)}`;
}
</script>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Discover Dakshina Kannada | All Rights Reserved</p>
    </footer>
</body>
</html>
